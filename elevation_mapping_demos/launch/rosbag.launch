<launch>
  <!-- RUN rosbag  -->
    <node pkg="rosbag" type="play" name="player" output="screen" args="--loop /datasets/00000_00.bag"/>
    <!-- <node pkg="topic_tools" type="relay_field" name="relay_field" output="screen" args="/odometry/filtered /pose geometry_msgs/PoseWithCovariance '{pose: { position: {x: m.pose.pose.position.x, y: m.pose.pose.position.y, z: m.pose.pose.position.z }, orientation: {x: m.pose.pose.orientation.x, y: m.pose.pose.orientation.y, z: m.pose.pose.orientation.z, w: m.pose.pose.orientation.w}}, covariance: m.pose.covariance }'"/> -->
    <node pkg="topic_tools" type="relay_field" name="relay_field" output="screen" args=" 
                /odometry/filtered 
                /pose geometry_msgs/PoseWithCovarianceStamped '{
                                                                header: {
                                                                        seq: m.header.seq,
                                                                        stamp: { 
                                                                                secs: m.header.stamp.secs,
                                                                                nsecs: m.header.stamp.nsecs
                                                                              },
                                                                        frame_id: m.header.frame_id
                                                                        },
                                                                pose: {
                                                                      pose: {
                                                                            position: {
                                                                                      x: m.pose.pose.position.x,
                                                                                      y: m.pose.pose.position.y,
                                                                                      z: m.pose.pose.position.z 
                                                                                      },
                                                                            orientation: {
                                                                                      x: m.pose.pose.orientation.x,
                                                                                      y: m.pose.pose.orientation.y,
                                                                                      z: m.pose.pose.orientation.z,
                                                                                      w: m.pose.pose.orientation.w 
                                                                                      }
                                                                              },
                                                                      covariance: m.pose.covariance 
                                                                      }
                                                                }'"/>



</launch>
